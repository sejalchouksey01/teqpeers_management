<div class="container mt-5">
  <div class="row justify-content-center">
    <!-- Left Column for Dashboard Information -->
    <div class="col-md-8">
      <div class="card shadow-lg mb-4 border-0 rounded-lg">
        <div class="card-header bg-gradient text-white" style="background-color: #4a90e2;">
          <h4 class="card-title mb-0 py-2">
            <i class="fas fa-tachometer-alt me-2"></i>Dashboard Overview
          </h4>
        </div>
        <div class="card-body bg-light">
          <!-- Displaying Courses List -->
          <h5 class="mt-3 mb-4 text-primary">
            <i class="fas fa-graduation-cap me-2"></i>
            <%= current_user.mentor? ? 'Courses' : 'Your Courses' %>        
          </h5>

          <% if current_user.mentor? || current_user.manager? %>
            <ul class="list-group">
              <% @courses.each do |course| %>
                <li class="list-group-item d-flex justify-content-between align-items-center hover-shadow transition-all" 
                    style="border-left: 4px solid #4a90e2;">
                  <%= link_to course.name, course_subtopics_path(course_id: course.id), 
                      class: 'text-decoration-none text-dark fw-semibold' %>
                  <span class="badge" style="background-color: #e3f2fd; color: #1565c0;">
                    <%= course.description %>
                  </span>
                </li>
              <% end %>
            </ul>

            <div class="d-flex mt-4 gap-3">
              <%= link_to users_path, class: 'btn text-white w-50', style: 'background-color: #4a90e2;' do %>
                <i class="fas fa-users me-2"></i>Trainees Attendance
              <% end %>
              <%= link_to users_path(status: true), class: 'btn text-white w-50', style: 'background-color: #5c6bc0;' do %>
                <i class="fas fa-chart-line me-2"></i>Trainees Status
              <% end %>
            </div>
          <% elsif current_user.courses.any? %>
            <ul class="list-group">
              <% current_user.courses.each do |course| %>
                <li class="list-group-item d-flex justify-content-between align-items-center hover-shadow transition-all"
                    style="border-left: 4px solid #4a90e2;">
                  <%= link_to course.name, course_feedbacks_path(course_id: course.id), 
                      class: 'text-decoration-none text-dark fw-semibold' %>
                  <span class="badge" style="background-color: #e3f2fd; color: #1565c0;">
                    <%= course.description %>
                  </span>
                </li>
              <% end %>
            </ul>
          <% else %>
            <div class="alert alert-info" role="alert">
              <i class="fas fa-info-circle me-2"></i>You are not enrolled in any courses yet.
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Right Column for Daily Status Form -->
    <% if current_user.role == "trainee" %>
      <div class="col-md-4">
        <div class="card shadow-lg mb-4 border-0 rounded-lg">
          <div class="card-header text-white" style="background-color: #5c6bc0;">
            <h5 class="card-title mb-0 py-2">
              <i class="fas fa-pencil-alt me-2"></i>Daily Status
            </h5>
          </div>
          <div class="card-body bg-light">
            <%= form_with url: save_daily_status_path, method: :post, local: true do |form| %>
              <div class="mb-3">
                <%= form.label :content, "Daily Status Content", class: "form-label text-muted fw-semibold" %>
                <%= form.text_area :content, class: "form-control border-0 shadow-sm", 
                    style: "background-color: #f8f9fa;",
                    rows: 4, placeholder: "Enter your daily status here..." %>
              </div>
              <div class="mb-3">
                <%= form.label :date, "Date", class: "form-label text-muted fw-semibold" %>
                <%= form.date_field :date, value: Date.today, class: "form-control border-0 shadow-sm",
                    style: "background-color: #f8f9fa;" %>
              </div>
              <%= form.submit "Save Status", class: "btn text-white w-100", 
                  style: "background-color: #5c6bc0;" %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
